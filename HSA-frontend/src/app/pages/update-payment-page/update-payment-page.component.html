<app-page-template [title]="'Update Payment Link'">
    <div class="table-header">
      <mat-card class="p-10">
        <mat-card-header>
          <mat-card-subtitle>This is the link for the QR code for invoices</mat-card-subtitle>
        </mat-card-header>
        <div class="spacer"></div>
        <mat-card-content>
          <mat-form-field appearance="fill" class="w-full">
            <mat-label>Payment Link</mat-label>
            <input matInput [formControl]="url"
                   placeholder="Payment Link">
                   @if (url.touched && !url.valid && url.getError("required")) {
                    <mat-error>URL is required</mat-error>
                   }
                   @if (url.touched && !url.valid && url.getError("pattern")) {
                    <mat-error>URL must be like http://google.com</mat-error>
                   }
          </mat-form-field>
        </mat-card-content>
        <mat-card-footer class="flex justify-between">
            <button data-testid="home" mat-stroked-button (click)="navigateToPage('invoices')">Return</button>
            <button data-testid="cancel" mat-flat-button (click)="update()">Update</button>
        </mat-card-footer>
      </mat-card>
    </div>
</app-page-template>
